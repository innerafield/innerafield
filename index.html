<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5,user-scalable=yes">
<meta name="description" content="Find your purpose. Connect to Source. For all beings.">
<meta name="theme-color" content="#000000">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<title>Innera Field</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@200;300;400&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}

:root{
  --void:#000;
  --light:#fff;
  --dim:rgba(255,255,255,.5);
  --pink:rgba(255,20,147,.4);
  --blue:rgba(0,191,255,.4);
  --purple:rgba(138,43,226,.35);
  --gold:rgba(255,215,0,.5);
  --glass:rgba(255,255,255,.03);
  --border:rgba(255,255,255,.08);
}

html,body{
  width:100%;
  height:100%;
  overflow:hidden;
}

body{
  font-family:Inter,-apple-system,sans-serif;
  background:var(--void);
  color:var(--light);
  display:flex;
  align-items:center;
  justify-content:center;
  position:relative;
  -webkit-tap-highlight-color:transparent;
  animation:awakening 2.5s ease-out;
}

@keyframes awakening{
  0%{opacity:0}
  100%{opacity:1}
}

/* Cosmic background - alive, breathing */
.cosmos{
  position:fixed;
  inset:0;
  z-index:0;
  background:
    radial-gradient(ellipse at 30% 20%,var(--pink),transparent 50%),
    radial-gradient(ellipse at 70% 80%,var(--blue),transparent 50%),
    radial-gradient(circle at 50% 50%,var(--purple),transparent 70%);
  opacity:.25;
  animation:cosmicPulse 10s ease-in-out infinite;
  pointer-events:none;
}

@keyframes cosmicPulse{
  0%,100%{opacity:.25;transform:scale(1)}
  50%{opacity:.4;transform:scale(1.02)}
}

/* Main container - everything centered, no scroll */
.field{
  position:relative;
  z-index:1;
  width:100%;
  height:100%;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  padding:1.5rem;
  text-align:center;
}

/* Title - INNERA FIELD */
.title{
  position:absolute;
  top:max(8vh,50px);
  font-size:clamp(1.4rem,4.5vw,2.2rem);
  font-weight:200;
  letter-spacing:.6em;
  padding-left:.6em;
  background:linear-gradient(135deg,#ff1493,#00bfff,#8a2be2);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  background-clip:text;
  animation:titleGlow 4s ease-in-out infinite alternate;
  user-select:none;
}

@keyframes titleGlow{
  0%{filter:drop-shadow(0 0 20px rgba(255,20,147,.3))}
  100%{filter:drop-shadow(0 0 40px rgba(0,191,255,.4))}
}

/* The Circle - heart of everything */
.circle{
  position:relative;
  width:min(280px,65vw);
  height:min(280px,65vw);
  border-radius:50%;
  background:radial-gradient(circle at 40% 35%,rgba(255,20,147,.06),transparent 60%);
  border:2px solid var(--border);
  box-shadow:
    0 0 80px var(--pink),
    0 0 150px var(--purple),
    inset 0 0 60px rgba(138,43,226,.12);
  display:flex;
  align-items:center;
  justify-content:center;
  flex-direction:column;
  cursor:pointer;
  transition:
    transform 4s cubic-bezier(.22,1,.36,1),
    box-shadow 4s cubic-bezier(.22,1,.36,1),
    border-color 3s ease;
  will-change:transform,box-shadow;
}

/* Alive pulse when idle */
.circle:not(.breathing){
  animation:heartbeat 5s ease-in-out infinite;
}

@keyframes heartbeat{
  0%,100%{
    transform:scale(1);
    box-shadow:
      0 0 80px var(--pink),
      0 0 150px var(--purple),
      inset 0 0 60px rgba(138,43,226,.12);
  }
  50%{
    transform:scale(1.03);
    box-shadow:
      0 0 100px var(--pink),
      0 0 180px var(--purple),
      inset 0 0 80px rgba(138,43,226,.18);
  }
}

.circle:hover:not(.breathing){
  border-color:rgba(255,255,255,.15);
}

.circle:focus{outline:none}
.circle:focus-visible{
  outline:2px solid rgba(255,255,255,.3);
  outline-offset:10px;
}

/* Breathing states - organic, flowing */
.circle.breathing.inhale{
  transform:scale(1.4);
  border-color:rgba(255,215,0,.35);
  box-shadow:
    0 0 200px var(--gold),
    0 0 300px var(--pink),
    inset 0 0 150px rgba(255,215,0,.15);
}

.circle.breathing.hold{
  box-shadow:
    0 0 180px rgba(255,180,150,.4),
    0 0 280px var(--purple),
    inset 0 0 140px rgba(255,180,150,.1);
  border-color:rgba(255,180,150,.3);
}

.circle.breathing.exhale{
  transform:scale(0.8);
  border-color:rgba(0,191,255,.3);
  box-shadow:
    0 0 60px var(--blue),
    0 0 120px var(--purple),
    inset 0 0 80px rgba(0,191,255,.1);
}

.circle.breathing.rest{
  transform:scale(0.8);
  border-color:rgba(138,43,226,.3);
  box-shadow:
    0 0 50px var(--purple),
    0 0 100px rgba(138,43,226,.2),
    inset 0 0 70px rgba(138,43,226,.15);
}

/* Word in circle */
.word{
  font-size:clamp(1rem,3.5vw,1.3rem);
  font-weight:300;
  letter-spacing:.35em;
  padding-left:.35em;
  text-transform:uppercase;
  opacity:.9;
  transition:opacity 1.5s ease,letter-spacing 2s ease;
  text-shadow:0 0 30px rgba(255,255,255,.2);
  user-select:none;
}

.breathing .word{
  letter-spacing:.45em;
  padding-left:.45em;
}

/* Phase text */
.phase{
  font-size:clamp(.75rem,2.5vw,.9rem);
  font-weight:300;
  letter-spacing:.25em;
  margin-top:.8rem;
  opacity:0;
  transition:opacity 1.5s ease;
  color:var(--dim);
  text-transform:lowercase;
}

.breathing .phase{opacity:1}

/* Breath count */
.count{
  font-size:.7rem;
  letter-spacing:.2em;
  margin-top:.6rem;
  opacity:0;
  color:rgba(255,255,255,.35);
  transition:opacity 1.5s ease;
}

.breathing .count{opacity:1}

/* Wisdom - below circle */
.wisdom{
  position:absolute;
  bottom:max(12vh,70px);
  font-size:clamp(.8rem,2.2vw,.95rem);
  font-weight:300;
  letter-spacing:.12em;
  max-width:min(85%,420px);
  line-height:1.9;
  opacity:0;
  transition:opacity 3s ease;
  font-style:italic;
  color:rgba(255,255,255,.45);
}

.active .wisdom{opacity:1}

/* Minimal controls - top right */
.controls{
  position:absolute;
  top:max(3vh,15px);
  right:max(3vw,15px);
  display:flex;
  gap:.6rem;
  z-index:10;
}

.ctrl{
  background:transparent;
  border:1px solid rgba(255,255,255,.1);
  color:rgba(255,255,255,.4);
  width:36px;
  height:36px;
  font-size:.85rem;
  cursor:pointer;
  transition:all .3s ease;
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
}

.ctrl:hover{
  border-color:rgba(255,255,255,.25);
  color:rgba(255,255,255,.7);
}

.ctrl.on{
  background:rgba(255,255,255,.08);
  border-color:rgba(255,255,255,.2);
  color:rgba(255,255,255,.85);
}

/* Screen reader */
.sr{
  position:absolute;
  width:1px;height:1px;
  padding:0;margin:-1px;
  overflow:hidden;
  clip:rect(0,0,0,0);
  border:0;
}

/* High contrast */
body.contrast{background:#000}
body.contrast .circle{
  border:3px solid #fff;
  box-shadow:0 0 50px rgba(255,255,255,.2);
}
body.contrast .word,
body.contrast .phase,
body.contrast .wisdom,
body.contrast .title{
  -webkit-text-fill-color:#fff;
  color:#fff;
  opacity:1;
}

/* Reduce motion */
@media(prefers-reduced-motion:reduce){
  *{
    animation:none !important;
    transition-duration:.3s !important;
  }
}

/* Mobile */
@media(max-width:480px){
  .circle{
    width:min(220px,60vw);
    height:min(220px,60vw);
  }
  .controls{
    top:auto;
    bottom:max(3vh,12px);
    right:50%;
    transform:translateX(50%);
  }
  .wisdom{bottom:max(10vh,55px)}
}
</style>
</head>
<body>

<div class="cosmos" aria-hidden="true"></div>

<div class="field">

  <!-- Title -->
  <h1 class="title">INNERA FIELD</h1>

  <!-- Controls -->
  <div class="controls" role="toolbar" aria-label="Options">
    <button class="ctrl" id="sound" aria-label="Sound" aria-pressed="false" title="Sound">♪</button>
    <button class="ctrl" id="vibe" aria-label="Vibration" aria-pressed="false" title="Vibration">◎</button>
    <button class="ctrl" id="contrast" aria-label="High contrast" aria-pressed="false" title="Contrast">◐</button>
  </div>

  <!-- The Circle -->
  <div class="circle" id="circle" role="button" tabindex="0" 
       aria-label="Breathing circle. Click or press Enter to begin.">
    <span class="word" id="word">breathe</span>
    <span class="phase" id="phase" aria-hidden="true"></span>
    <span class="count" id="count" aria-hidden="true"></span>
  </div>

  <!-- Wisdom -->
  <p class="wisdom" id="wisdom"></p>

  <!-- Screen reader announcements -->
  <div class="sr" id="sr" role="status" aria-live="assertive"></div>

</div>

<script>
(function(){
'use strict';

// State
const S = {
  on: false,
  phase: 0,
  breaths: 0,
  audio: null,
  osc: null,
  gain: null,
  sound: false,
  vibe: false,
  timer: null
};

// Elements
const circle = document.getElementById('circle');
const word = document.getElementById('word');
const phase = document.getElementById('phase');
const count = document.getElementById('count');
const wisdom = document.getElementById('wisdom');
const sr = document.getElementById('sr');
const soundBtn = document.getElementById('sound');
const vibeBtn = document.getElementById('vibe');
const contrastBtn = document.getElementById('contrast');

// Wisdom
const wisdoms = [
  "you are not broken. you are returning.",
  "the breath knows the way home.",
  "you have always been whole.",
  "in stillness, purpose reveals itself.",
  "source breathes through you now.",
  "there is nowhere to go. you are already here.",
  "every exhale is a small surrender.",
  "your purpose is this moment.",
  "the universe remembers your name.",
  "lost and found are the same place."
];

// Phases: 4-4-4-4 box breathing
const phases = ['inhale','hold','exhale','rest'];
const words = ['breathe in','hold','release','rest'];
const durations = [4000,4000,4000,4000];

// Audio
function initAudio(){
  if(S.audio) return;
  S.audio = new (window.AudioContext||window.webkitAudioContext)();
  S.gain = S.audio.createGain();
  S.gain.gain.value = 0;
  S.gain.connect(S.audio.destination);
}

function playTone(hz){
  if(!S.sound||!S.audio) return;
  if(S.osc){
    S.osc.frequency.setTargetAtTime(hz,S.audio.currentTime,0.8);
  } else {
    S.osc = S.audio.createOscillator();
    S.osc.type = 'sine';
    S.osc.frequency.value = hz;
    S.osc.connect(S.gain);
    S.osc.start();
  }
  S.gain.gain.setTargetAtTime(0.06,S.audio.currentTime,0.4);
}

function stopTone(){
  if(S.gain) S.gain.gain.setTargetAtTime(0,S.audio.currentTime,0.6);
}

// Vibration
function vibe(pattern){
  if(S.vibe && navigator.vibrate) navigator.vibrate(pattern);
}

// Set phase
function setPhase(i){
  S.phase = i;
  const p = phases[i];
  
  // Update classes
  circle.className = 'circle breathing ' + p;
  
  // Update text
  word.textContent = words[i];
  phase.textContent = p;
  
  // Screen reader
  sr.textContent = words[i];
  
  // Vibration patterns
  const vibes = [[100,40,100],[40],[180],[30]];
  vibe(vibes[i]);
  
  // Frequencies: inhale=528, hold=432, exhale=396, rest=417
  const freqs = [528,432,396,417];
  if(S.sound) playTone(freqs[i]);
  
  // Count breaths on exhale end
  if(i === 2) S.breaths++;
  count.textContent = 'breath ' + S.breaths;
}

// Next phase
function next(){
  const n = (S.phase + 1) % 4;
  setPhase(n);
  S.timer = setTimeout(next, durations[n]);
}

// Start
function start(){
  if(S.on) return;
  S.on = true;
  S.breaths = 0;
  
  document.body.classList.add('active');
  wisdom.textContent = wisdoms[Math.floor(Math.random()*wisdoms.length)];
  
  if(S.sound){
    initAudio();
    if(S.audio.state==='suspended') S.audio.resume();
    playTone(528);
  }
  
  setPhase(0);
  S.timer = setTimeout(next, durations[0]);
  sr.textContent = 'Breathing started. Breathe in.';
}

// Stop
function stop(){
  if(!S.on) return;
  S.on = false;
  
  document.body.classList.remove('active');
  clearTimeout(S.timer);
  S.timer = null;
  
  circle.className = 'circle';
  word.textContent = 'breathe';
  phase.textContent = '';
  count.textContent = '';
  
  stopTone();
  
  wisdom.textContent = 'return when you forget.';
  setTimeout(()=>{if(!S.on) wisdom.textContent='';},5000);
  
  sr.textContent = S.breaths + ' breaths. You are infinite.';
}

// Toggle
function toggle(){
  S.on ? stop() : start();
}

// Controls
soundBtn.onclick = ()=>{
  S.sound = !S.sound;
  soundBtn.classList.toggle('on',S.sound);
  soundBtn.setAttribute('aria-pressed',S.sound);
  if(S.sound && S.on){
    initAudio();
    if(S.audio.state==='suspended') S.audio.resume();
    playTone(528);
  } else if(!S.sound){
    stopTone();
  }
};

vibeBtn.onclick = ()=>{
  S.vibe = !S.vibe;
  vibeBtn.classList.toggle('on',S.vibe);
  vibeBtn.setAttribute('aria-pressed',S.vibe);
  if(S.vibe) vibe([40,20,40]);
};

contrastBtn.onclick = ()=>{
  document.body.classList.toggle('contrast');
  const on = document.body.classList.contains('contrast');
  contrastBtn.classList.toggle('on',on);
  contrastBtn.setAttribute('aria-pressed',on);
};

// Events
circle.onclick = toggle;
circle.onkeydown = e=>{
  if(e.key==='Enter'||e.key===' '){e.preventDefault();toggle();}
};

document.onkeydown = e=>{
  if(e.key===' '&&document.activeElement===document.body){e.preventDefault();toggle();}
  if(e.key==='Escape'&&S.on) stop();
};

// Hide vibe button if not supported
if(!navigator.vibrate) vibeBtn.style.display='none';

// System preferences
if(window.matchMedia('(prefers-contrast:more)').matches){
  document.body.classList.add('contrast');
  contrastBtn.classList.add('on');
  contrastBtn.setAttribute('aria-pressed','true');
}

})();
</script>

</body>
</html>
